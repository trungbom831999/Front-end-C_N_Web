<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title> Work </title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
	integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
	integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
	crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
	integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
	crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
	integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
	crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
	<link rel="shortcut icon" type="img" href="sm_icon.jpg"/>
	<link rel="stylesheet" href="style.css">
</head>
<body>
	<header class="nava" >
		<!-- <div class="container"> -->
			<div class="row" style="margin: 0px;">
				<div class="col acol1">
					<a href="#" class="btn btn-info btn-lg">
						<i class="fas fa-align-justify"></i>
					</a>
					<img src="icon.png" id="icon">
					<a href="#" class="btn btn-info btn-lg">
						<i class="fas fa-home"></i>
					</a>
				</div>
				<div class="col-6 asearch acol2" style="height: 100%;">
					<form class="form-inline my-2 my-lg-0">
						<input class="form-control mr-sm-2 ainput" type="search" placeholder="Search" aria-label="Search">
						<a href="#" class="btn btn-info btn-lg abutton">
							Search
						</a>
					</form>
				</div>
				<div class="col acol2">
					<a href="Profile/profile.html">
						<img src="trend-avatar-1.jpg" alt="Avatar" class="avatar1">
					</a>
					<a href="#" class="btn btn-info btn-lg float-right">
						<i class="fas fa-bell"></i>
					</a>
				</div>
			</div>
		</div>
	</header>

	<div class="row" style="margin: 0px;">
		<div class="col-sm-9" style="padding-right: 0">
			<ul class="nav">
				<li class="nav-item">
					<span class="spanToInput span-nav">Tên công việc</span>
				</li>

				<li class="nav-item">
					<a id="dropdown-work-type" class="btn a-nav dropdown-toggle" data-toggle="dropdown" href="#" title="Phân loại công việc"><span class="selection">Riêng tư</span></a>
					<div id="dropdown-menu-work-type" class="dropdown-menu">
						<a class="dropdown-item" href="#">Riêng tư</a>
						<a class="dropdown-item" href="#">Công khai</a>
					</div>
				</li>

				<li class="nav-item">
					<a class="btn a-nav" id="invite" href="#" title="Mời vào bảng">Mời</a>
					<form id="formInvite">
						<div style="padding: 10px;">
							<input class="form-control" type="text" id="new-member" name="new-member" placeholder="Nhập email hoặc tên" style="margin: 5px 0;">
							<div class="row">
								<div class="col text-center">
									<button type="submit" class="btn btn-primary" style="margin-top: 5px">Gửi lời mời</button>
								</div>
							</div>
						</div>
					</form>
				</li>
			</ul>
		</div>
		<div class="col-sm-3" style="padding: 0">
			<ul class="nav justify-content-end">
				<!-- <li class="nav-item">
					<a class="btn a-nav" href="#" title="Lịch"><i class='far fa-calendar-alt'></i> Lịch</a>
				</li> -->
				<li class="nav-item">
					<div class="w3-sidebar w3-bar-block w3-card w3-animate-right" style="display:none;right:0; z-index: 5; width: 350px; border-radius: 5px;" id="rightMenu">
						<button onclick="closeRightMenu()" class="w3-bar-item w3-button w3-large">Close &times;</button>
						<form action="#" style="margin: 10px">
							<p>Đổi ảnh nền</p>
							<div class="custom-file mb-3">
								<input type="file" class="custom-file-input" id="customFile" name="filename">
								<label class="custom-file-label" for="customFile">Chọn ảnh</label>
							</div>
							<button type="submit" class="btn btn-primary">Lưu thay đổi</button>
						</form>
						<hr>
						<!--link a chuyển đến trang profile -->
						<div class="leader">
							<p>Quản trị viên</p>
							<div class="a-member">
								<img class="rounded-circle avatar-member" src="sm_icon.jpg" alt="avatar member 1">
								<a href="Profile/profileOther.html" class="link-profile-member"> I am Leader</a>
							</div>
						</div>
						<hr>
						<p style="margin: 10px">Danh sách thành viên</p>
						<div class="member-list">
							<div class="a-member">
								<img class="rounded-circle avatar-member" src="avt1.png" alt="avatar member 1">
								<a href="Profile/profileOther.html" class="link-profile-member"> Member Name 1</a>
							</div>
							<div class="a-member">
								<img class="rounded-circle avatar-member" src="avt2.png" alt="avatar member 2">
								<a href="Profile/profileOther.html" class="link-profile-member"> Member Name 2</a>
							</div>
							<div class="a-member">
								<img class="rounded-circle avatar-member" src="avt3.png" alt="avatar member 3">
								<a href="Profile/profileOther.html" class="link-profile-member"> Member Name 3</a>
							</div>
							<div class="a-member">
								<img class="rounded-circle avatar-member" src="card1.jpg" alt="avatar member 3">
								<a href="Profile/profileOther.html" class="link-profile-member"> Member Name 4</a>
							</div>
							<div class="a-member">
								<img class="rounded-circle avatar-member" src="card2.jpg" alt="avatar member 3">
								<a href="Profile/profileOther.html" class="link-profile-member"> Member Name 5</a>
							</div>
							<div class="a-member">
								<img class="rounded-circle avatar-member" src="card3.jpg" alt="avatar member 3">
								<a href="Profile/profileOther.html" class="link-profile-member"> Member Name 6</a>
							</div>
						</div>
					</div>
					<button class="btn btn-menu a-nav" onclick="openRightMenu()" title="Hiện Menu">&#9776; Menu</button>
				</li>
			</ul>
		</div>
	</div>

	<div class="work-list">
		<div class="list-item">
			<div class="list-name sticky-top">
				<span class="spanToInput2">Tên list a a a a a a a a a a a a a a a a a a a a a â a  a a a a</span>
				<button class="btn float-right delete-list" title="Xóa List này"><i class="material-icons">&#xe14c;</i></button>
			</div>

			<div class="list-card">
				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh1.jpg" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card abcdefgh 123456 dài thêm chút nữa</p>
						<a href="Card/card.html" class="stretched-link" data-toggle="modal" data-target="#exampleModal"></a>
					</div>
				</div>

				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh2.jpg" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card 2</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>

				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh3.png" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card 3</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
			</div>

			<div class="add-card">
				<form class="form-add-card" action="#">
					<input class="form-control" type="text" id="new-card" name="new-card" placeholder="Thêm thẻ mới">
					<button type="submit" class="btn btn-primary btn-add-card">Thêm</button>
				</form>
			</div>
		</div>

		<div class="list-item">
			<div class="list-name sticky-top">
				<span class="spanToInput2">Tên list 1</span>
				<button class="btn float-right delete-list" title="Xóa List này"><i class="material-icons">&#xe14c;</i></button>
			</div>
			<div class="list-card">
				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh1.jpg" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card 1</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh2.jpg" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
			</div>
			<div class="add-card">
				<form class="form-add-card" action="#">
					<input class="form-control" type="text" id="new-card" name="new-card" placeholder="Thêm thẻ mới">
					<button type="submit" class="btn btn-primary btn-add-card">Thêm</button>
				</form>
			</div>
		</div>

		<div class="list-item">
			<div class="list-name sticky-top">
				<span class="spanToInput2">Tên list 2</span>
				<button class="btn float-right delete-list" title="Xóa List này"><i class="material-icons">&#xe14c;</i></button>
			</div>

			<div class="list-card">
				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh2.jpg" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
				<div class="card" style="width:auto;">
					<div class="card-body card-body-center">
						<p class="card-title">Name card 2</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
			</div>

			<div class="add-card">
				<form class="form-add-card" action="#">
					<input class="form-control" type="text" id="new-card" name="new-card" placeholder="Thêm thẻ mới">
					<button type="submit" class="btn btn-primary btn-add-card">Thêm</button>
				</form>
			</div>
		</div>

		<div class="list-item">
			<div class="list-name sticky-top">
				<span class="spanToInput2">Tên list 3</span>
				<button class="btn float-right delete-list" title="Xóa List này"><i class="material-icons">&#xe14c;</i></button>
			</div>

			<div class="list-card">
				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh3.png" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card 3</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
				<div class="card" style="width:auto;">
					<img class="card-img-top" src="card3.jpg" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
			</div>
			<div class="add-card">
				<form class="form-add-card" action="#">
					<input class="form-control" type="text" id="new-card" name="new-card" placeholder="Thêm thẻ mới">
					<button type="submit" class="btn btn-primary btn-add-card">Thêm</button>
				</form>
			</div>
		</div>

		<div class="list-item">
			<div class="list-name sticky-top">
				<span class="spanToInput2">Tên list 4</span>
				<button class="btn float-right delete-list" title="Xóa List này"><i class="material-icons">&#xe14c;</i></button>
			</div>
			<div class="list-card">
				<div class="card" style="width:auto;">
					<img class="card-img-top" src="anh4.jpg" alt="Card image" style="width:100%">
					<button class="btn float-right btn-delete-card" title="Xóa Card này">X</button>
					<div class="card-body card-body-center">
						<p class="card-title">Name card 4</p>
						<a href="Card/card.html" class="stretched-link" target="_blank"></a>
					</div>
				</div>
			</div>
			<div class="add-card">
				<form class="form-add-card" action="#">
					<input class="form-control" type="text" id="new-card" name="new-card" placeholder="Thêm thẻ mới">
					<button type="submit" class="btn btn-primary btn-add-card">Thêm</button>
				</form>
			</div>
		</div>

		<div class="list-item">
			<div class="list-name sticky-top">
				<span class="spanToInput2">Tên list 5</span>
				<button class="btn float-right delete-list" title="Xóa List này"><i class="material-icons">&#xe14c;</i></button>
			</div>
			<div class="list-card">
			</div>

			<div class="add-card">
				<form class="form-add-card" action="#">
					<input class="form-control" type="text" id="new-card" name="new-card" placeholder="Thêm thẻ mới">
					<button type="submit" class="btn btn-primary btn-add-card">Thêm</button>
				</form>
			</div>
		</div>

		<div class="add-new-list">
			<form action="">
				<input class="form-control" id="new-list" type="text" name="new-list" placeholder="Thêm danh sách mới" style="width:250px">
				<button onclick="addList()" class="btn btn-primary" style="margin: 3px 0;">Thêm danh sách</button>
			</form>
		</div>

		<!-- Modal card -->
		<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-xl" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="container" style="padding: 0">
							<div id="cover-img">
								<img id="update-avatar" style="border-style: double; border-color: #ebebe0; border-radius: 5px; " src="ca.png" title="Đổi ảnh bìa" />
								<input type="file" id="img-upload" accept=".png, .jpg, .jpeg">
								<button type="submit" id="saveCoverImg" class="btn btn-primary mt-2" style="display: block;">Lưu</button>
							</div>
						</div>
						<div class="container" style="margin-top: -5px">
							<div id="card-name">
								<span class="spanToInput3 span-cardname">Tên công việc</span>
							</div>

							<div class="row">
								<div class="col-sm-9">
									<div id="show-deadline">
										<p><i class='far fa-calendar-times'></i> Deadline</p>
										<p id="deadline-date"></p>
										<p id="deadline-time"></p>
									</div>

									<form action="" method="post">
										<div class="form-group">
											<label for="description-card"><i class='fas fa-rainbow'></i> Mô tả</label>
											<textarea class="form-control" rows="5" id="description-card" name="description-card"></textarea>
										</div>
										<button type="submit" class="btn btn-primary">Lưu</button>
									</form>
									<hr>

									<form action="" method="post" style="margin-bottom: 30px">
										<p><i class='fas fa-paperclip'></i> Tập đính kèm</p>
										<div class="custom-file">
											<input type="file" class="custom-file-input" id="customFile" name="filename">
											<label class="custom-file-label" for="customFile">Chọn file</label>
											<button type="submit" id="saveFile" class="btn btn-primary mt-2">Lưu</button>
										</div>
									</form>
									<hr>
									<p><i class='fab fa-rocketchat'></i> Bình luận</p>
									<div class="my-comment">
										<form class="mb-3" action="" method="post">
											<div class="form-group">
												<textarea class="form-control" id="myCmt" rows="2" placeholder="Viết bình luận..."></textarea>
											</div>
											<button id="cmt" type="submit" class="btn btn-primary">Bình luận</button>
										</form>
									</div>

									<div class="comment-list">
										<div class="a-comment">
											<img class="rounded-circle" src="avt1.png" alt="my avatar" style="height: 40px">
											<a href="../Profile/profileOther.html" class="link-profile-member"> Member Name 1</a>
											<div class="comment container">
												<p>Đây là comment của member 1</p>
											</div>
										</div>

										<div class="a-comment">
											<img class="rounded-circle" src="avt2.png" alt="my avatar" style="height: 40px">
											<a href="../Profile/profileOther.html" class="link-profile-member"> Member Name 2</a>
											<div class="comment container">
												<p>Đây là comment của member 2</p>
											</div>
										</div>

										<div class="a-comment">
											<img class="rounded-circle" src="avt3.png" alt="my avatar" style="height: 40px">
											<a href="../Profile/profileOther.html" class="link-profile-member"> Member Name 3</a>
											<div class="comment container">
												<p>Đây là comment của member 3</p>
											</div>
										</div>
									</div>
								</div>

								<div class="col-sm-3">
									<button id="deadline" class="btn btn-primary btn-col-2"><i class='far fa-clock'></i> Thêm deadline</button>
									<div id="formDeadline" class="form-group">
										<input class="form-control mt-2" type="date">
										<input class="form-control mt-2" type="time">
										<button type="submit" id="saveDeadline" class="btn btn-primary mt-2">Lưu</button>
									</div>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		$(document).ready(function() {
			$("#avatar").click(function() {
				$("#formInvite").hide();
				$("#formAvt").toggle();
			});
		});

		$(document).ready(function() {
			$("#invite").click(function() {
				$("#formAvt").hide();
				$("#formInvite").toggle();
			});
		});

		$(document).ready(function() {
			$("#show-menu").click(function() {
				$("#formAvt").hide();
				$("#formInvite").hide();
				$("#formMenu").toggle();
			});
		});

		$(function(){
			$("#dropdown-menu-work-type a").click(function () {
				$("#dropdown-work-type .selection").text($(this).text());
			});
		});

		$(document).ready(function() {
			$("#dropdown-work-type").click(function() {
				$("#formAvt").hide();
				$("#formInvite").hide();
			});
		});

		$(".custom-file-input").on("change", function() {
			var fileName = $(this).val().split("\\").pop();
			$(this).siblings(".custom-file-label").addClass("selected").html(fileName);
		});

		function openRightMenu() {
			document.getElementById("rightMenu").style.display = "block";
		}

		function closeRightMenu() {
			document.getElementById("rightMenu").style.display = "none";
		}

			//click span change to input name-work
			var switchToInput = function () {
				var $input = $("<input>", {
					val: $(this).text(),
					type: "text",
					rel : jQuery(this).text(),
				});
				$input.css({'font-weight': 'bold','margin-top':'2px'});
				$input.addClass("spanToInput");
				$(this).replaceWith($input);
				$input.on("blur", switchToSpan);
				$input.select();
			};
			var switchToSpan = function () {
				if(jQuery(this).val()){
					var $text = jQuery(this).val();
				} else {
					var $text = jQuery(this).attr('rel');
				}
				var $span = $("<span>", {
					text: $text,
				});
				$span.addClass("spanToInput");
				$span.addClass("span-nav");
				$(this).replaceWith($span);
				$span.on("click", switchToInput);
			}
			$(".spanToInput").on("click", switchToInput);

			//click span change to input name-list
			var switchToInput2 = function () {
				var $input = $("<input>", {
					val: $(this).text(),
					type: "text",
					rel : jQuery(this).text(),
				});
				$input.css({'height':'24px','margin':'0'});
				$input.addClass("spanToInput2");
				$(this).replaceWith($input);
				$input.on("blur", switchToSpan2);
				$input.select();

				var nameList = document.getElementsByClassName("spanToInput2");
				for(var i=0; i<nameList.length; i++){
					var tit = nameList[i].innerHTML;
					nameList[i].title = tit;
				}
			};
			var switchToSpan2 = function () {
				if(jQuery(this).val()){
					var $text = jQuery(this).val();
				} else {
					var $text = jQuery(this).attr('rel');
				}
				var $span = $("<span>", {
					text: $text,
				});
				$span.addClass("spanToInput2");
				$(this).replaceWith($span);
				$span.on("click", switchToInput2);

				var nameList = document.getElementsByClassName("spanToInput2");
				for(var i=0; i<nameList.length; i++){
					var tit = nameList[i].innerHTML;
					nameList[i].title = tit;
				}
			}
			$(".spanToInput2").on("click", switchToInput2);

			//add title to span
			var nameList = document.getElementsByClassName("spanToInput2");
			for(var i=0; i<nameList.length; i++){
				var tit = nameList[i].innerHTML;
				nameList[i].title = tit;
			}
		</script>

		<script type="text/javascript">
			document.getElementById('update-avatar').onclick = function(){
				document.getElementById('img-upload').click();
			};

			$(".custom-file-input").on("change", function() {
				var fileName = $(this).val().split("\\").pop();
				$(this).siblings(".custom-file-label").addClass("selected").html(fileName);
			});
		//disable button when input null
		$(document).ready(function() {
			$('button[id="cmt"]').attr('disabled', true);
			$('textarea[id="myCmt"]').on('keyup',function() {
				var textarea_value = $("#myCmt").val();
				if(textarea_value != '') {
					$('button[id="cmt"]').attr('disabled', false);
				} else {
					$('button[id="cmt"]').attr('disabled', true);
				}
			});
		});

		//display none button saveFile && saveCoverImg
		$(document).ready(function() {
			$("#saveFile").css("display", "none");
			$('input[name="filename"]').change(function(e){
				$("#saveFile").css("display", "block");
			});
		});

		$(document).ready(function() {
			$("#saveCoverImg").css("display", "none");
			$('#img-upload').change(function(e){
				$("#saveCoverImg").css("display", "block");
			});
		});

		//show form deadline
		$(document).ready(function() {
			$("#deadline").click(function() {
				$("#formDeadline").toggle();
			});
		});

		//show button saveDeadline
		$(document).ready(function() {
			$("#saveDeadline").css("display", "none");
			($('input[type="date"]') && $('input[type="time"]')).change(function(e){
				$("#saveDeadline").css("display", "block");
			});
		});

		//show Deadline
		$("#saveDeadline").click(function(){
			var date = $('input[type="date"]').val();
			var time = $('input[type="time"]').val();
			$("#deadline-date").text(date);
			$("#deadline-time").text(time);
			$("#show-deadline").css("display","block");
		});

		//click span change to input name-card
		var switchToInput3 = function () {
			var $input = $("<input>", {
				val: $(this).text(),
				type: "text",
				rel : jQuery(this).text(),
			});
			$input.css({'font-weight': 'bold','margin-top':'2px'});
			$input.addClass("spanToInput3");
			$(this).replaceWith($input);
			$input.on("blur", switchToSpan3);
			$input.select();
		};
		var switchToSpan3 = function () {
			if(jQuery(this).val()){
				var $text = jQuery(this).val();
			} else {
				var $text = jQuery(this).attr('rel');
			}
			var $span = $("<span>", {
				text: $text,
			});
			$span.addClass("spanToInput3");
			$span.addClass("span-cardname");
			$(this).replaceWith($span);
			$span.on("click", switchToInput3);
		}
		$(".spanToInput3").on("click", switchToInput3);
	</script>
</body>
</html>